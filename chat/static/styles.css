:root {
    --border: 1px solid #444;

    --primary: #4c97ec;
    --primary-alpha: #4c97ec3a;

    --link: #5bb5ff;
    --link-hover: #1b98ff;

    --red: #f53030;
    --red-alpha: #f530303a;

    --green: #0f9e3a;
    --green-alpha: #0f9e3a3a;

    --bg: #131313;
    --text: #d8d8d8;

    --bg-secondary: #1e1e1e;
    --text-secondary: #9c9c9c;

    --bg-tertiary: #141414;
    --text-tertiary: #7c7c7c;

    color-scheme: dark light;
    accent-color: var(--primary);
}

@media (prefers-color-scheme: light) {
    :root {
        --border: 1px solid #ccc;
        --bg: #f8f8f8;
        --text: #333;

        --bg-secondary: #e9e9e9;
        --text-secondary: #666;

        --bg-tertiary: #f3f3f3;
        --text-tertiary: #555;

        --link: #005eac;
        --link-hover: #003968;

    }
    
}


a {
    color: var(--link);
    text-underline-offset: 0.2em;
    transition: color 0.2s;
}
a:hover {
    color: var(--link-hover);
}


:where(*) {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}


.icon {
    width: 1em;
    height: 1em;
    fill: currentColor;
    margin-right: 0;
    margin-bottom: 0;
    vertical-align: -0.125em;
    margin-bottom: 0;
}
.icon path {
    fill: currentColor;
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.spin {
    animation: spin 1s linear infinite;
}

.message {
    display: flex;
    flex-direction: column;
    padding: 0.5em;
    border-radius: 0.5em;
    background-color: var(--bg-secondary);
}
.message .header {
    display: flex;
    flex-direction: row;
    gap: 0.5em;
    align-items: center;
    margin-right: 0.5em;
}
.message .header img {
    width: 1.5em;
    height: 1.5em;
    border-radius: 50%;
}
.message .header .username {
    font-size: 0.85em;
    color: var(--text);
}
.message.error {
    background-color: var(--red-alpha);
}
.message:has(.reply) {
    background-color: var(--green);
}
.reply {
    color: var(--text-secondary);
}
.message .date {
    font-size: 0.75em;
    color: var(--text-secondary);
}
#chat {
    display: flex;
    flex-direction: column;
    gap: 0.5em;
}
#messages {
    display: flex;
    flex-direction: column;
    overflow-y: scroll;
    overflow-x: hidden;
    flex: 1;
    max-height: 100%;
    gap: 0.5em;
    padding-right: 0.5em;
}


/* Input styles */
input[type="text"], .textlike-input {
    padding: 0.5em;
    border-radius: 0.5em;
    border: var(--border);
    background-color: var(--bg-tertiary);
    color: var(--text);
    margin: 0.5em;
    width: max-content;
    transition: border-color 0.2s, box-shadow 0.2s;
}
input[type="text"]:focus, .textlike-input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px var(--primary-alpha);
}
input[type="text"]:disabled, .textlike-input:disabled {
    background-color: var(--bg-secondary);
    color: var(--text-secondary);
    cursor: not-allowed;
}
input[type="text"]:hover, .textlike-input:hover {
    border-color: var(--primary);
}
input[type="text"]::placeholder, .textlike-input::placeholder {
    color: var(--text-secondary);
}
input[type="text"].small, .textlike-input.small {
    padding: 0.25em;
}
.vflex {
    display: flex;
    flex-direction: column;
    gap: 0.5em;
}
.hflex {
    display: flex;
    flex-direction: row;
    gap: 0.5em;
    align-items: center;
}
.checkbox-group {
    display: flex;
    flex-direction: row;
    gap: 0.5rem;
    align-items: center;
    margin-left: 0.25em;
    label {
        margin-right: 0.5em;
        text-align: right;
    }
    * {
        margin-bottom: 0;
    }
    input {
        margin: 0;
    }
}


[type="checkbox"],
[type="radio"] {
    height: 1.5em !important;
    border-radius: 0.25em;
    aspect-ratio: 1 / 1;
    cursor: pointer;
    margin-top: 0;
}

[type="checkbox"]:focus-visible,
[type="radio"]:focus-visible {
    border: var(--primary) solid var(--border-width);
}

[type="checkbox"].small,
[type="radio"].small {
    height: unset !important;
}

button {
    padding: 0.5em 1em;
    border-radius: 0.5em;
    border: none;
    background-color: var(--bg);
    color: var(--text);
    border: var(--border);
    margin: 0.5em;
    cursor: pointer;
    transition: border-color 0.2s, box-shadow 0.2s;
}
button:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px var(--primary-alpha);
}
button:hover {
    border-color: var(--primary);
}
button:disabled {
    background-color: var(--bg-secondary);
    color: var(--text-secondary);
    cursor: not-allowed;
}
button.disconnect:focus {
    outline: none;
    border-color: var(--red);
    box-shadow: 0 0 0 2px var(--red-alpha);
}
button.disconnect:hover {
    border-color: var(--red);
}

*, *::before, *::after {
    box-sizing: border-box;
}
main {
    display: flex;
    flex-direction: column;
    gap: 1rem;

    height: calc(100vh - 1rem);
    
    margin: 0;
    margin-left: clamp(2rem, 10vw, 10rem);
    margin-right: clamp(2rem, 10vw, 10rem);

    border: var(--border);
    border-radius: 0.5em;
    background-color: var(--bg);

    padding: 1rem;
    padding-top: 0.75rem;
    padding-bottom: 0.5rem;
}
 
@media screen and (max-width: 600px) {
    main {
        margin: 0;
    }
}



.sn-notifications-container {
    width: unset !important;
    min-height: unset !important;
}

:is(button, input) + :is(button, input) {
    margin-left: 0;
}

user-cfg {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 0.35em;
    
    cursor: pointer;
    position: absolute;
    top: 0.5em;
    right: 0.6em;

    font-size: 1.2em;
    border-radius: 0.825em 0.5em 0.5em 0.825em;

    transition: box-shadow 0.2s, background-color 0.2s;
}
main {
    position: relative;
}
user-cfg img {
    width: 1.65em;
    height: 1.65em;
    border-radius: 50%;
    margin: 0;
}
user-cfg p {
    font-size: 0.85em;
    color: var(--text-secondary);
    margin: 0;
    font-weight: 400;
    transform: translateY(-0.05em);
    vertical-align: middle;
    transition: font-size 0.2s, color 0.2s, font-weight 0.2s;
}
user-cfg:hover p,
user-cfg:focus p {
    font-size: larger;
    font-weight: 600;
    color: var(--text);
}
user-cfg:focus-visible {
    outline: none;
    box-shadow: inset 0 0 20px 0px var(--primary), 0 0 20px 3px var(--primary)
}
user-cfg.loading {
    cursor: wait;
}
user-cfg.loading > *:not(div) {
    filter: opacity(0.5);
}
user-cfg.loading > div {
    position: absolute;
    display: flex;
    gap: 0.5em;
    align-items: center;
    justify-content: center;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    font-size: 1.75em;
}